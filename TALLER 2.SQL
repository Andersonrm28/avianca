--------------------- TALLER 2 --------------------------
--A) CREAR CAMPO ESTADO_AERONAVE

ALTER TABLE AERONAVES
  ADD ESTADO_AERONAVE VARCHAR2(255) CHECK (ESTADO_AERONAVE IN ('Vuelo','Tierra','Mantenimiento', 'Reparación'));
  
UPDATE AERONAVES SET ESTADO_AERONAVE = 'Tierra';
  
alter table AERONAVES modify ESTADO_AERONAVE not null;
  
--B) CREAR CAMPO AEROPUETO_ACTUAL_ID

ALTER TABLE AERONAVES
  ADD AEROPUETO_ACTUAL_ID INTEGER;
  
  UPDATE AERONAVES SET AEROPUETO_ACTUAL_ID = 1002;
  
ALTER TABLE AERONAVES 
    ADD CONSTRAINT FK_AERONAVES_AERO_ACTUAL FOREIGN KEY (AEROPUETO_ACTUAL_ID) REFERENCES AEROPUERTOS(ID);
    
    
--C) CREAR CAMPO ESTADO_VUELO

ALTER TABLE PROGRAMACIONES
  ADD ESTADO_PROGRAMACION VARCHAR2(255) CHECK (ESTADO_PROGRAMACION IN ('En Vuelo','Cancelado','Retrasado','Confirmado','Abordando','Programado'));
  
  UPDATE PROGRAMACIONES SET ESTADO_PROGRAMACION = 'Confirmado';
  
  ALTER TABLE PROGRAMACIONES MODIFY ESTADO_PROGRAMACION not null;